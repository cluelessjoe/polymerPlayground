<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<script type="text/javascript" src="../../bower_components/leaflet/dist/leaflet.js"></script>

<dom-module id="leaf-wrapper">

    <link rel="import" type="css" href="../../bower_components/leaflet/dist/leaflet.css">
    <template>
        <style>
            #mapid {
                height: 480px;
            }
        </style>
        <div id="mapid"></div>

    </template>
    <script>
        class LeafWrapper extends Polymer.Element {

            constructor() {
                super();
            }

            connectedCallback() {
                super.connectedCallback();
                let mapId = this.shadowRoot.querySelector("#mapid");

                var mymap = L.map(mapId).setView([51.505, -0.09], 13)

                L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
                    maxZoom: 18,
                    id: 'mapbox.streets',
                    accessToken: 'pk.eyJ1IjoianBhLXRnZCIsImEiOiJjamZ0bm5vOTkwdTJrMnhxbHY1dnRvc3o1In0.jsVQKNDQgFkLBhFkfHkaBA'
                }).addTo(mymap);
            }

            static get is() {
                return 'leaf-wrapper';
            }
        }

        customElements.define(LeafWrapper.is, LeafWrapper);

    </script>
</dom-module>
